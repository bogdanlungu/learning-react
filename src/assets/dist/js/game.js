!function e(t,r,s){function a(c,u){if(!r[c]){if(!t[c]){var l="function"==typeof require&&require;if(!u&&l)return l(c,!0);if(n)return n(c,!0);var i=new Error("Cannot find module '"+c+"'");throw i.code="MODULE_NOT_FOUND",i}var o=r[c]={exports:{}};t[c][0].call(o.exports,function(e){var r=t[c][1][e];return a(r?r:e)},o,o.exports,e,t,r,s)}return r[c].exports}for(var n="function"==typeof require&&require,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(e,t,r){"use strict";var s=function o(e,t){if(e.indexOf(t)>=0)return!0;if(e[0]>t)return!1;if(e[e.length-1]>t)return e.pop(),o(e,t);for(var r=e.length,s=1<<r,a=1;a<s;a++){for(var n=0,c=0;c<r;c++)a&1<<c&&(n+=e[c]);if(t===n)return!0}return!1},a=React.createClass({render:function(){for(var e=[],t=0;t<this.props.numberOfStars;t++)e.push(React.createElement("span",{key:t,className:"glyphicon glyphicon-star"}));return React.createElement("div",{id:"stars-frame"},React.createElement("div",{className:"well"},e))}}),n=React.createClass({render:function(){var e,t,r=this.props.correct;switch(r){case!0:t=React.createElement("button",{className:"btn btn-success",onClick:this.props.acceptAnswer},React.createElement("span",{className:"glyphicon glyphicon-ok"}));break;case!1:t=React.createElement("button",{className:"btn btn-danger"},React.createElement("span",{className:"glyphicon glyphicon-remove"}));break;default:e=0===this.props.selectedNumbers.length,t=React.createElement("button",{className:"btn btn-primary",disabled:e,onClick:this.props.checkAnswer},"=")}return React.createElement("div",{id:"button-frame"},t,React.createElement("button",{className:"btn btn-warning btn-xs refresh",onClick:this.props.redraw,disabled:0===this.props.redraws},React.createElement("span",{className:"glyphicon glyphicon-refresh"}),"Â ",this.props.redraws))}}),c=React.createClass({render:function(){var e=this.props,t=e.selectedNumbers.map(function(t){return React.createElement("span",{key:t,onClick:e.unselectNumber.bind(null,t)},t)});return React.createElement("div",{id:"answer-frame"},React.createElement("div",{className:"well"},t))}}),u=React.createClass({render:function(){for(var e,t=[],r=this.props.selectNumber,s=this.props.selectedNumbers,a=this.props.usedNumbers,n=0;n<=9;n++)e="number selected-"+(s.indexOf(n)>=0),e+=" used-"+(a.indexOf(n)>=0),t.push(React.createElement("div",{key:n,className:e,onClick:r.bind(null,n)},n));return React.createElement("div",{id:"numbers-frame"},React.createElement("div",{className:"well"},t))}}),l=React.createClass({render:function(){return React.createElement("div",{className:"well text-center"},React.createElement("h2",null,this.props.doneStatus))}}),i=React.createClass({getInitialState:function(){return{numberOfStars:this.randomNumber(),selectedNumbers:[],usedNumbers:[],redraws:5,correct:null,doneStatus:null}},randomNumber:function(){return Math.floor(9*Math.random())+1},selectNumber:function(e){this.state.selectedNumbers.indexOf(e)<0&&this.setState({selectedNumbers:this.state.selectedNumbers.concat(e),correct:null})},unselectNumber:function(e){var t=this.state.selectedNumbers,r=t.indexOf(e);t.splice(r,1),this.setState({selectedNumbers:t,correct:null})},sumOfSelectedNumbers:function(){return this.state.selectedNumbers.reduce(function(e,t){return e+t},0)},checkAnswer:function(){var e=this.state.numberOfStars==this.sumOfSelectedNumbers();this.setState({correct:e})},acceptAnswer:function(){var e=this.state.usedNumbers.concat(this.state.selectedNumbers);this.setState({selectedNumbers:[],usedNumbers:e,correct:null,numberOfStars:this.randomNumber()},function(){console.log("CallBack"),this.updateDoneStatus()})},redraw:function(){this.state.redraws>0&&this.setState({numberOfStars:this.randomNumber(),correct:null,selectedNumbers:[],redraws:this.state.redraws-1},function(){console.log("CallBack"),this.updateDoneStatus()})},possibleSolution:function(){for(var e=this.state.numberOfStars,t=[],r=this.state.usedNumbers,a=1;a<=9;a++)r.indexOf(a)<0&&t.push(a);return s(t,e)},updateDoneStatus:function(){return console.log(this.state.doneStatus),9===this.state.usedNumbers.length?void this.setState({doneStatus:"Done. Nice!"}):0!==this.state.redraws||this.possibleSolution()?void 0:void this.setState({doneStatus:"Game Over!"})},render:function(){var e,t=this.state.numberOfStars,r=this.state.selectedNumbers,s=this.state.usedNumbers,i=this.state.correct,o=this.checkAnswer,m=this.state.redraws,d=this.state.doneStatus;return e=d?React.createElement(l,{doneStatus:d}):React.createElement(u,{selectedNumbers:r,usedNumbers:s,selectNumber:this.selectNumber}),React.createElement("div",{id:"game"},React.createElement("h2",null,"Play game!"),React.createElement("hr",null),React.createElement("div",{className:"clearfix"},React.createElement(a,{numberOfStars:t}),React.createElement(n,{selectedNumbers:r,correct:i,checkAnswer:o,acceptAnswer:this.acceptAnswer,redraw:this.redraw,redraws:m}),React.createElement(c,{selectedNumbers:r,unselectNumber:this.unselectNumber})),e)}});ReactDOM.render(React.createElement(i,null),document.getElementById("container"))},{}]},{},[1]);
//# sourceMappingURL=game.js.map
